add_subdirectory(extern)

file(GLOB_RECURSE ALBEDO_HEADER "engine/*.h")
file(GLOB_RECURSE ALBEDO_SOURCE "engine/*.cc")

source_group(TREE 
    ${CMAKE_CURRENT_SOURCE_DIR}
    FILES 
    ${ALBEDO_HEADER} 
    ${ALBEDO_SOURCE})

add_executable(${PROJECT_NAME}
    ${ALBEDO_HEADER} 
    ${ALBEDO_SOURCE})
    
# Link
target_link_libraries(${PROJECT_NAME} PRIVATE AlbedoExternalLibraries)
target_include_directories(${PROJECT_NAME} PRIVATE "${CMAKE_CURRENT_SOURCE_DIR}/engine")

# Resource
add_subdirectory(resource)

add_custom_command(
    TARGET ${PROJECT_NAME} PRE_BUILD
    COMMAND ${CMAKE_COMMAND}
    -E copy_directory ${CMAKE_CURRENT_SOURCE_DIR}/resource $<TARGET_FILE_DIR:${PROJECT_NAME}>/resource
)